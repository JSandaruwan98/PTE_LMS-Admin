SELECT 
    dates.date AS attendance_date, 
    s.student_id,
    s.name,
    IFNULL(att.isIn, 0) AS isIn
FROM (
    SELECT CURDATE() AS date
    UNION ALL SELECT DATE_SUB(CURDATE(), INTERVAL 1 DAY)
    UNION ALL SELECT DATE_SUB(CURDATE(), INTERVAL 2 DAY)
    UNION ALL SELECT DATE_SUB(CURDATE(), INTERVAL 3 DAY)
    UNION ALL SELECT DATE_SUB(CURDATE(), INTERVAL 4 DAY)
) AS dates
CROSS JOIN student s
LEFT JOIN (
    SELECT student_id, attendance_date, 1 AS isIn
    FROM attendance
    WHERE attendance_date BETWEEN DATE_SUB(CURDATE(), INTERVAL 5 DAY) AND CURDATE()
) AS att
ON dates.date = att.attendance_date
AND s.student_id = att.student_id
ORDER BY attendance_date, s.student_id;
